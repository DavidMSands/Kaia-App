{"ast":null,"code":"import _toConsumableArray from\"/Users/davidsands/Development/Kaia-App/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js\";import _slicedToArray from\"/Users/davidsands/Development/Kaia-App/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useState}from'react';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var KEY=process.env.REACT_APP_OPENAI_SECRET;function Form(_ref){var setResponses=_ref.setResponses;var _useState=useState(),_useState2=_slicedToArray(_useState,2),prompt=_useState2[0],setPrompt=_useState2[1];var _useState3=useState(false),_useState4=_slicedToArray(_useState3,2),isHelp=_useState4[0],setIsHelp=_useState4[1];var kaiaSubmit=function kaiaSubmit(e){e.preventDefault();var data={prompt:prompt,temperature:0.5,max_tokens:64,top_p:1.0,frequency_penalty:0.0,presence_penalty:0.0};fetch(\"https://api.openai.com/v1/engines/text-curie-001/completions\",{method:\"POST\",headers:{\"Content-Type\":\"application/json\",Authorization:\"Bearer \".concat(KEY)},body:JSON.stringify(data)}).then(function(res){return res.json();}).then(function(r){setResponses(function(responses){return[{prompt:prompt,response:r.choices[0].text}].concat(_toConsumableArray(responses));});setPrompt('');setIsHelp(false);});};var onHelpClick=function onHelpClick(){setIsHelp(!isHelp);};return/*#__PURE__*/_jsx(\"div\",{id:\"form\",children:/*#__PURE__*/_jsxs(\"form\",{onSubmit:kaiaSubmit,children:[/*#__PURE__*/_jsx(\"label\",{children:\"Send a prompt to Kaia: \"}),/*#__PURE__*/_jsx(\"div\",{id:\"ask-kaia\",children:/*#__PURE__*/_jsx(\"textarea\",{rows:\"10\",cols:\"50\",placeholder:\"Write a haiku about rice...\",value:prompt,onChange:function onChange(e){return setPrompt(e.target.value);}})}),/*#__PURE__*/_jsx(\"p\",{onClick:onHelpClick,children:\"Need help?\"}),isHelp?/*#__PURE__*/_jsxs(\"ul\",{id:\"help\",children:[/*#__PURE__*/_jsx(\"li\",{onClick:function onClick(e){return setPrompt(e.target.textContent);},children:\"Write a story about a fragile teapot.\"}),/*#__PURE__*/_jsx(\"li\",{onClick:function onClick(e){return setPrompt(e.target.textContent);},children:\"Write a poem about a cactus.\"}),/*#__PURE__*/_jsx(\"li\",{onClick:function onClick(e){return setPrompt(e.target.textContent);},children:\"Write a story about a pizza's frustration with Planet Fitness.\"})]}):null,/*#__PURE__*/_jsx(\"input\",{type:\"submit\",value:\"Send\",className:\"new-prompt-submit\"})]})});}export default Form;","map":{"version":3,"names":["React","useState","KEY","process","env","REACT_APP_OPENAI_SECRET","Form","setResponses","prompt","setPrompt","isHelp","setIsHelp","kaiaSubmit","e","preventDefault","data","temperature","max_tokens","top_p","frequency_penalty","presence_penalty","fetch","method","headers","Authorization","body","JSON","stringify","then","res","json","r","responses","response","choices","text","onHelpClick","target","value","textContent"],"sources":["/Users/davidsands/Development/Kaia-App/src/Components/Form.js"],"sourcesContent":["import React, { useState } from 'react'\n\nconst KEY = process.env.REACT_APP_OPENAI_SECRET\n\nfunction Form({ setResponses }) {\n    const [prompt, setPrompt] = useState()\n    const [isHelp, setIsHelp] = useState(false)\n\n    const kaiaSubmit = (e) => {\n        e.preventDefault()\n        const data = {\n            prompt: prompt,\n            temperature: 0.5,\n            max_tokens: 64,\n            top_p: 1.0,\n            frequency_penalty: 0.0,\n            presence_penalty: 0.0,\n        }\n\n        fetch(\"https://api.openai.com/v1/engines/text-curie-001/completions\", {\n            method: \"POST\",\n            headers: {\n                \"Content-Type\": \"application/json\",\n                Authorization: `Bearer ${KEY}`,\n            },\n            body: JSON.stringify(data),\n            })\n            .then(res => res.json())\n            .then(r => {\n                setResponses((responses) => [{\n                prompt: prompt,\n                response: r.choices[0].text\n                }, ...responses])\n            setPrompt('')\n            setIsHelp(false)\n            })   \n    }\n\n    const onHelpClick = () => {\n        setIsHelp(!isHelp)\n    }\n\n\n  return (\n    <div id='form'>\n        <form onSubmit={kaiaSubmit}>\n            <label>Send a prompt to Kaia: </label>\n            <div id='ask-kaia'>\n                <textarea rows=\"10\" cols=\"50\" placeholder='Write a haiku about rice...' value={prompt} onChange={(e) => setPrompt(e.target.value)}></textarea>\n            </div>\n            <p onClick={onHelpClick}>Need help?</p>\n            {isHelp \n            ? <ul id='help'>\n                <li onClick={(e) => setPrompt(e.target.textContent)}>Write a story about a fragile teapot.</li>\n                <li onClick={(e) => setPrompt(e.target.textContent)}>Write a poem about a cactus.</li>\n                <li onClick={(e) => setPrompt(e.target.textContent)}>Write a story about a pizza's frustration with Planet Fitness.</li>\n              </ul>\n            : null\n            }\n            <input type='submit' value=\"Send\" className='new-prompt-submit'></input>\n        </form>\n        \n    </div>\n  )\n}\n\nexport default Form"],"mappings":"gQAAA,MAAOA,MAAP,EAAgBC,QAAhB,KAAgC,OAAhC,C,wFAEA,GAAMC,IAAG,CAAGC,OAAO,CAACC,GAAR,CAAYC,uBAAxB,CAEA,QAASC,KAAT,MAAgC,IAAhBC,aAAgB,MAAhBA,YAAgB,CAC5B,cAA4BN,QAAQ,EAApC,wCAAOO,MAAP,eAAeC,SAAf,eACA,eAA4BR,QAAQ,CAAC,KAAD,CAApC,yCAAOS,MAAP,eAAeC,SAAf,eAEA,GAAMC,WAAU,CAAG,QAAbA,WAAa,CAACC,CAAD,CAAO,CACtBA,CAAC,CAACC,cAAF,GACA,GAAMC,KAAI,CAAG,CACTP,MAAM,CAAEA,MADC,CAETQ,WAAW,CAAE,GAFJ,CAGTC,UAAU,CAAE,EAHH,CAITC,KAAK,CAAE,GAJE,CAKTC,iBAAiB,CAAE,GALV,CAMTC,gBAAgB,CAAE,GANT,CAAb,CASAC,KAAK,CAAC,8DAAD,CAAiE,CAClEC,MAAM,CAAE,MAD0D,CAElEC,OAAO,CAAE,CACL,eAAgB,kBADX,CAELC,aAAa,kBAAYtB,GAAZ,CAFR,CAFyD,CAMlEuB,IAAI,CAAEC,IAAI,CAACC,SAAL,CAAeZ,IAAf,CAN4D,CAAjE,CAAL,CAQKa,IARL,CAQU,SAAAC,GAAG,QAAIA,IAAG,CAACC,IAAJ,EAAJ,EARb,EASKF,IATL,CASU,SAAAG,CAAC,CAAI,CACPxB,YAAY,CAAC,SAACyB,SAAD,SAAgB,CAC7BxB,MAAM,CAAEA,MADqB,CAE7ByB,QAAQ,CAAEF,CAAC,CAACG,OAAF,CAAU,CAAV,EAAaC,IAFM,CAAhB,4BAGPH,SAHO,IAAD,CAAZ,CAIJvB,SAAS,CAAC,EAAD,CAAT,CACAE,SAAS,CAAC,KAAD,CAAT,CACC,CAhBL,EAiBH,CA5BD,CA8BA,GAAMyB,YAAW,CAAG,QAAdA,YAAc,EAAM,CACtBzB,SAAS,CAAC,CAACD,MAAF,CAAT,CACH,CAFD,CAKF,mBACE,YAAK,EAAE,CAAC,MAAR,uBACI,cAAM,QAAQ,CAAEE,UAAhB,wBACI,kDADJ,cAEI,YAAK,EAAE,CAAC,UAAR,uBACI,iBAAU,IAAI,CAAC,IAAf,CAAoB,IAAI,CAAC,IAAzB,CAA8B,WAAW,CAAC,6BAA1C,CAAwE,KAAK,CAAEJ,MAA/E,CAAuF,QAAQ,CAAE,kBAACK,CAAD,QAAOJ,UAAS,CAACI,CAAC,CAACwB,MAAF,CAASC,KAAV,CAAhB,EAAjG,EADJ,EAFJ,cAKI,UAAG,OAAO,CAAEF,WAAZ,wBALJ,CAMK1B,MAAM,cACL,YAAI,EAAE,CAAC,MAAP,wBACE,WAAI,OAAO,CAAE,iBAACG,CAAD,QAAOJ,UAAS,CAACI,CAAC,CAACwB,MAAF,CAASE,WAAV,CAAhB,EAAb,mDADF,cAEE,WAAI,OAAO,CAAE,iBAAC1B,CAAD,QAAOJ,UAAS,CAACI,CAAC,CAACwB,MAAF,CAASE,WAAV,CAAhB,EAAb,0CAFF,cAGE,WAAI,OAAO,CAAE,iBAAC1B,CAAD,QAAOJ,UAAS,CAACI,CAAC,CAACwB,MAAF,CAASE,WAAV,CAAhB,EAAb,4EAHF,GADK,CAML,IAZN,cAcI,cAAO,IAAI,CAAC,QAAZ,CAAqB,KAAK,CAAC,MAA3B,CAAkC,SAAS,CAAC,mBAA5C,EAdJ,GADJ,EADF,CAqBD,CAED,cAAejC,KAAf"},"metadata":{},"sourceType":"module"}